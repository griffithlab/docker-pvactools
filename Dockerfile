#License Agreements
#pVACtools is licensed under [NPOSL-3.0](http://opensource.org/licenses/NPOSL-3.0).

#By using the IEDB software, you are consenting to be bound by and become a "Licensee" for the use of IEDB tools and are consenting to the terms and conditions of the Non-Profit Open Software License ("Non-Profit OSL") version 3.0

#Please read these two license agreements [here](http://tools.iedb.org/mhci/download/) before proceeding. If you do not agree to all of the terms of these two agreements, you must not install or use the product. Companies (for-profit entities) interested in downloading the command-line versions of the IEDB tools or running the entire analysis resource locally, should contact us (license@iedb.org) for details on licensing options.

#Citing the IEDB
#All publications or presentations of data generated by use of the IEDB Resource Analysis tools should include citations to the relevant reference(s), found [here](http://tools.iedb.org/mhci/reference/).


FROM griffithlab/pvactools:3.1.3-xs
MAINTAINER Susanna Kiwala <ssiebert@wustl.edu>

LABEL \
    description="Image for pVACtools. Includes IEDB MHC Class I and MHC Class II tools." \
    version="3.1.3_mhci_3.1.2_mhcii_3.1.6"

RUN mkdir /opt/iedb
COPY LICENSE /opt/iedb/.

#IEDB MHC I 3.1.2
WORKDIR /opt/iedb
RUN wget https://downloads.iedb.org/tools/mhci/3.1.2/IEDB_MHC_I-3.1.2.tar.gz
RUN tar -xzvf IEDB_MHC_I-3.1.2.tar.gz
WORKDIR /opt/iedb/mhc_i
RUN ./configure
COPY netmhccons_1_1_python_interface.3.1.1.py /opt/iedb/mhc_i/method/netmhccons-1.1-executable/netmhccons_1_1_executable/netmhccons_1_1_python_interface.py
WORKDIR /opt/iedb
RUN rm IEDB_MHC_I-3.1.2.tar.gz

#IEDB MHC II 3.1.6
WORKDIR /opt/iedb
RUN wget https://downloads.iedb.org/tools/mhcii/3.1.6/IEDB_MHC_II-3.1.6.tar.gz
RUN tar -xzvf IEDB_MHC_II-3.1.6.tar.gz
WORKDIR /opt/iedb/mhc_ii
RUN python ./configure.py
WORKDIR /opt/iedb
RUN rm IEDB_MHC_II-3.1.6.tar.gz
